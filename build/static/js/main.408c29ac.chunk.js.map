{"version":3,"sources":["services/blogs.js","components/Blog.js","components/Notification.js","components/Togglable.js","components/BlogForm.js","components/LoginForm.js","services/login.js","hooks/index.js","App.js","index.js"],"names":["token","services_blogs","getAll","axios","get","then","response","data","create","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","newObject","config","wrap","_context","prev","next","headers","Authorization","post","sent","abrupt","stop","_x","apply","this","arguments","update","id","put","concat","remove","delete","setToken","newToken","Blog","React","forwardRef","props","ref","_useState","useState","_useState2","slicedToArray","visible","setVisible","setBlogs","setNotification","onClickTest","showWhenVisible","display","toggleVisibility","useImperativeHandle","updateBlog","newBlogObject","blogService","t0","t1","message","style","setTimeout","t2","_x2","removeBlog","_ref2","_callee2","_context2","console","log","window","confirm","_x3","handleLike","_ref3","_callee3","event","blog","_context3","preventDefault","likes","_x4","handleRemove","_ref4","_callee4","_context4","user","target","_x5","react_default","createElement","paddingTop","paddingLeft","borderBottom","marginBottom","className","onClick","cursor","backgroundColor","padding","title","author","href","url","rel","name","showRemoveButton","Notification","notification","Togglable","hideWhenVisible","buttonLabel","children","BlogForm","addBlogObject","handleBlogObjectChange","onSubmit","value","onChange","type","LoginForm","handleLogin","username","password","objectSpread","reset","services_login","login","credentials","useField","setValue","App","blogs","_useState3","_useState4","setNewBlogObject","_useState5","_useState6","setUser","_useState7","_useState8","useEffect","initialBlogs","loggedUserJSON","localStorage","getItem","JSON","parse","blogFormRef","createRef","blogObject","newNotification","current","defineProperty","length","_user2","loginService","setItem","stringify","handleLogout","removeItem","exception","components_Notification","components_LoginForm","components_Togglable","components_BlogForm","loggedUser","sort","b","map","components_Blog","key","rows","color","fontStyle","fontSize","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.408c29ac.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = async newObject => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${ baseUrl }/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const config = {\n    headers: { Authorization: token },\n  }\n  const request = axios.delete(`${ baseUrl }/${id}`, config)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove, setToken }","import React, { useState, useImperativeHandle } from 'react'\nimport blogService from '../services/blogs'\n\nconst Blog = React.forwardRef((props, ref) => {\n  const [visible, setVisible] = useState(false)\n  //console.log('Blog props', props)\n\n  const setBlogs = props.setBlogs\n  const setNotification = props.setNotification\n  const onClickTest = props.onClickTest\n\n\n  //const hideWhenVisible = { display: visible ? 'none' : '' }\n  const showWhenVisible = { display: visible ? '' : 'none' }\n\n  const toggleVisibility = () => {\n    setVisible(!visible)\n  }\n\n  useImperativeHandle(ref, () => {\n    return {\n      toggleVisibility\n    }\n  })\n\n  const userName = () => {\n    if (props.blog.user) {\n      //console.log('props.blog.user', props.blog.user)\n      console.log('props.blog.user.name', props.blog.user.name)\n      return (props.blog.user.name)\n    } else {\n      return 'unknown'\n    }\n  }\n\n  const updateBlog = async (newBlogObject, id) => {\n    const newObject = newBlogObject\n    try {\n      await blogService.update(id, newObject)\n      setBlogs(await blogService.getAll())\n\n      const newNotification = {\n        message: 'New like added!',\n        style: 'success'\n      }\n      setNotification( newNotification )\n      setTimeout(() => {\n        setNotification({ message: null, style: null })\n      }, 5000)\n\n    } catch (exception) {\n      const newNotification = {\n        message: 'Like not added.',\n        style: 'failure'\n      }\n      setNotification( newNotification )\n      setTimeout(() => {\n        setNotification({ message: null, style: null })\n      }, 5000)\n    }\n  }\n\n  const removeBlog = async (id) => {\n    console.log('REMOVE id', id)\n    if (window.confirm('Do you really want to remove this post?')) {\n      try {\n        await blogService.remove(id)\n        setBlogs(await blogService.getAll())\n\n        const newNotification = {\n          message: 'Blog removed!',\n          style: 'success'\n        }\n        setNotification( newNotification )\n        setTimeout(() => {\n          setNotification({ message: null, style: null })\n        }, 5000)\n\n      } catch (exception) {\n        const newNotification = {\n          message: 'Blog not removed.',\n          style: 'failure'\n        }\n        setNotification( newNotification )\n        setTimeout(() => {\n          setNotification({ message: null, style: null })\n        }, 5000)\n      }\n    }\n  }\n\n  const handleLike = async (event) => {\n    event.preventDefault()\n\n    console.log('I Like!')\n    //console.log('event.target', event.target)\n    const blog = props.blog\n    //const updateBlog = props.updateBlog\n\n    console.log('likes before', blog.likes)\n    blog.likes += 1\n    console.log('likes after', blog.likes)\n    updateBlog(blog, blog.id)\n  }\n\n  const RemoveButton = () => {\n    console.log('showRemoveButton', props.showRemoveButton)\n    if (props.showRemoveButton) {\n      return <p><button onClick={handleRemove}>Remove post</button></p>\n    } else {\n      return <div></div>\n    }\n  }\n\n  const handleRemove = async (event) => {\n    event.preventDefault()\n    const blog = props.blog\n    //const removeBlog = props.removeBlog\n    console.log('props.blog.user.id', props.blog.user.id)\n\n    console.log('Remove this!')\n    console.log('event.target', event.target)\n    removeBlog(blog.id)\n  }\n\n  const blogStyle = {\n    paddingTop: 10,\n    paddingLeft: 2,\n    borderBottom: '1px dashed #cecece',\n    marginBottom: 5,\n  }\n  const blogHeaderStyle = {\n    cursor: 'pointer',\n    backgroundColor: '#efefef',\n    padding: '5px 10px'\n  }\n  const blogContentStyle = {\n    padding: '5px 10px'\n  }\n\n  return (\n    <div style={blogStyle} className='blogContentFull'>\n      <div className='blogContent'>\n        <div onClick={toggleVisibility} style={blogHeaderStyle} className='blogDefault'>\n          <h3 className='blogTitle'>\n            {props.blog.title}\n          </h3>\n          <p className='blogAuthor'>\n            {props.blog.author}\n          </p>\n        </div>\n      </div>\n      <div style={showWhenVisible} className='blogMore' >\n        <div onClick={toggleVisibility} style={blogContentStyle} >\n          <p className='blogLikes'>{props.blog.likes} likes <button onClick={onClickTest? onClickTest : handleLike}>Like this</button></p>\n          <p className='blogUrl'>\n            Website: <a href={props.blog.url} target=\"_blank\" rel=\"noopener noreferrer\">{props.blog.url}</a> <br/>Added by: {userName()}\n          </p>\n          <RemoveButton />\n        </div>\n      </div>\n    </div>\n  )\n})\n\nexport default Blog","import React from 'react'\n\nconst Notification = ({ notification }) => {\n  console.log('Notification: message', notification.message)\n  console.log('Notification: style', notification.style)\n  console.log('Notification:', notification)\n  if (notification.message === null) {\n    return null\n  }\n\n  return (\n    <div className={`notification ${notification.style}`} >\n      {notification.message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useImperativeHandle } from 'react'\nimport PropTypes from 'prop-types'\n\n\nconst Togglable = React.forwardRef((props, ref) => {\n  const [visible, setVisible] = useState(false)\n\n  const hideWhenVisible = { display: visible ? 'none' : '' }\n  const showWhenVisible = { display: visible ? '' : 'none' }\n\n  const toggleVisibility = () => {\n    setVisible(!visible)\n  }\n\n  useImperativeHandle(ref, () => {\n    return {\n      toggleVisibility\n    }\n  })\n\n  return (\n    <div>\n      <div style={hideWhenVisible}>\n        <button onClick={toggleVisibility}>{props.buttonLabel}</button>\n      </div>\n      <div style={showWhenVisible} className=\"togglableContent\">\n        {props.children}\n        <button onClick={toggleVisibility}>cancel</button>\n      </div>\n    </div>\n  )\n})\n\nTogglable.propTypes = {\n  buttonLabel: PropTypes.string.isRequired\n}\n\nexport default Togglable","import React from 'react'\n\nconst BlogForm = ({ addBlogObject, handleBlogObjectChange, newBlogObject }) => {\n  const title = newBlogObject.title\n  const author = newBlogObject.author\n  const url = newBlogObject.url\n  return (\n    <div>\n      <form onSubmit={addBlogObject}>\n        <p>title: <input\n          name=\"title\"\n          value={title}\n          onChange={handleBlogObjectChange}\n        /></p>\n        <p>author: <input\n          name=\"author\"\n          value={author}\n          onChange={handleBlogObjectChange}\n        /></p>\n        <p>url: <input\n          name=\"url\"\n          value={url}\n          onChange={handleBlogObjectChange}\n        /></p>\n        <button type=\"submit\">save</button>\n      </form>\n    </div>\n  )\n}\n\nexport default BlogForm","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst LoginForm = ({ handleLogin, username, password }) => {\n\n  username = { ...username, reset: null }\n  password = { ...password, reset: null }\n\n  return (\n    <div className='loginForm'>\n      <h2>Login</h2>\n      <form onSubmit={handleLogin}>\n        <div>\n          username\n          <input {...username} />\n        </div>\n        <div>\n          password\n          <input {...password} />\n        </div>\n        <button type=\"submit\">login</button>\n      </form>\n    </div>\n  )\n}\n\nLoginForm.propTypes = {\n  handleLogin: PropTypes.func.isRequired,\n  username: PropTypes.shape({\n    value: PropTypes.string.isRequired,\n    type: PropTypes.string,\n    onChange: PropTypes.func.isRequired\n  }),\n  password: PropTypes.shape({\n    value: PropTypes.string.isRequired,\n    type: PropTypes.string,\n    onChange: PropTypes.func.isRequired\n  })\n}\n\nexport default LoginForm","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nexport default { login }","import { useState } from 'react'\n\nexport const useField = (type) => {\n  const [value, setValue] = useState('')\n\n  const onChange = (event) => {\n    setValue(event.target.value)\n  }\n\n  const reset = () => {\n    setValue('')\n  }\n\n  return {\n    type,\n    value,\n    onChange,\n    reset\n  }\n}\n\n// moduulissa voi olla monta nimettyä eksportia\n/* export const useAnotherHook = () => {\n  // ...\n} */","import React, { useState, useEffect } from 'react'\n\n// Components\nimport Blog from './components/Blog'\nimport Notification from './components/Notification'\nimport Togglable from './components/Togglable'\nimport BlogForm from './components/BlogForm'\nimport LoginForm from './components/LoginForm'\n\n// Services\nimport blogService from './services/blogs'\nimport loginService from './services/login'\n\n// Custom Hooks\nimport  { useField } from './hooks'\n\n// Styles\nimport './index.css'\n\nconst App = () => {\n  const [blogs, setBlogs] = useState([])\n  const [newBlogObject, setNewBlogObject] = useState(\n    {\n      title: '',\n      author: '',\n      url: '',\n    }\n  )\n  //const [username, setUsername] = useState('')\n  //const [password, setPassword] = useState('')\n  const username = useField('text')\n  const password = useField('password')\n  const [user, setUser] = useState(null)\n  const [ notification, setNotification ] = useState({ message: null, style: null })\n\n\n\n  useEffect(() => {\n    blogService\n      .getAll()\n      .then(initialBlogs => {\n        setBlogs(initialBlogs)\n      })\n  }, [])\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n      blogService.setToken(user.token)\n    }\n  }, [])\n\n  const rows = () => {\n    console.log('blog', blogs)\n    console.log('Joku username', user.username)\n    const loggedUser = user.username\n    return blogs.sort((a, b) => b.likes - a.likes).map(blog =>\n    {\n      console.log('BLOOOOG', blog)\n\n      return(\n        <Blog\n          key={blog.id}\n          blog={blog}\n          setBlogs={setBlogs}\n          setNotification={setNotification}\n          showRemoveButton={loggedUser === blog.user.username}\n        />\n      )}\n    )}\n\n  const blogFormRef = React.createRef()\n\n  const addBlogObject = async (event) => {\n    event.preventDefault()\n    blogFormRef.current.toggleVisibility()\n    console.log('addBlog newBlogObject', newBlogObject.title)\n    console.log('addBlog newBlogObject', newBlogObject.author)\n    console.log('addBlog newBlogObject', newBlogObject.url)\n    const blogObject = {\n      title: newBlogObject.title,\n      author: newBlogObject.author,\n      url: newBlogObject.url,\n    }\n    console.log('blogObject', blogObject)\n    const newNotification = {\n      message: `New blog added: ${newBlogObject.title} by ${newBlogObject.author}`,\n      style: 'success'\n    }\n    try {\n      await blogService.create(blogObject)\n      setBlogs(await blogService.getAll())\n      setNewBlogObject({\n        title: '',\n        author: '',\n        url: '',\n      })\n      setNotification( newNotification )\n      setTimeout(() => {\n        setNotification({ message: null, style: null })\n      }, 5000)\n\n    } catch (exception) {\n      const newNotification = {\n        message: 'Blog not created. Check input fields.',\n        style: 'failure'\n      }\n      setNotification( newNotification )\n      setTimeout(() => {\n        setNotification({ message: null, style: null })\n      }, 5000)\n    }\n  }\n\n  const handleBlogObjectChange = (event) => {\n    console.log({ [event.target.name]: event.target.value })\n    setNewBlogObject({ ...newBlogObject, [event.target.name]: event.target.value })\n    console.log('newBlogObject', newBlogObject)\n  }\n\n  console.log('render', blogs.length, 'blogs.length')\n\n  const Footer = () => {\n    const footerStyle = {\n      color: 'green',\n      fontStyle: 'italic',\n      fontSize: 16\n    }\n\n    return (\n      <div style={footerStyle}>\n        <br />\n        <em>Blog app, Department of Computer Science 2019</em>\n      </div>\n    )\n  }\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try {\n      console.log('logging in...')\n      const user = await loginService.login({\n        username: username.value,\n        password: password.value\n      })\n\n      window.localStorage.setItem(\n        'loggedBlogappUser', JSON.stringify(user)\n      )\n      blogService.setToken(user.token)\n      setUser(user)\n      username.reset()\n      password.reset()\n      const newNotification = {\n        message: 'Login successful',\n        style: 'success'\n      }\n      setNotification( newNotification )\n      setTimeout(() => {\n        setNotification({ message: null, style: null })\n      }, 5000)\n      console.log('login successful')\n\n    } catch (exception) {\n      const newNotification = {\n        message: 'Wrong credentials',\n        style: 'failure'\n      }\n      setNotification( newNotification )\n      setTimeout(() => {\n        setNotification({ message: null, style: null })\n      }, 5000)\n    }\n  }\n\n  const handleLogout = async () => {\n    try {\n      window.localStorage.removeItem('loggedBlogappUser')\n      console.log('logging out...')\n      setUser(null)\n      const newNotification = {\n        message: 'Logout successful',\n        style: 'success'\n      }\n      setNotification( newNotification )\n      setTimeout(() => {\n        setNotification({ message: null, style: null })\n      }, 5000)\n      console.log('logout successful')\n    } catch (exception) {\n      const newNotification = {\n        message: 'Logout error',\n        style: 'failure'\n      }\n      setNotification( newNotification )\n      setTimeout(() => {\n        setNotification({ message: null, style: null })\n      }, 5000)\n    }\n  }\n\n  const blogObjectForm = () => {\n    return (\n      <div>\n        <Togglable buttonLabel='Create new BLOG' ref={blogFormRef}>\n          <BlogForm\n            newBlogObject={newBlogObject}\n            handleBlogObjectChange={handleBlogObjectChange}\n            addBlogObject={addBlogObject}\n          />\n        </Togglable>\n      </div>\n    )\n  }\n\n  return (\n    <div className='mainPage'>\n      <h1>Blogit</h1>\n      <Notification notification={notification} />\n\n      {user === null ?\n        <LoginForm\n          handleLogin={handleLogin}\n          username={username}\n          password={password} /> :\n        <div>\n          <p>{user.name} logged in </p>\n          <button onClick={() => handleLogout()}>Logout</button>\n          <h2>Create new blog</h2>\n          {blogObjectForm()}\n\n          <h2 className='latestBlogs'>Latest blogs</h2>\n          {rows()}\n        </div>\n      }\n      <Footer />\n    </div>\n  )\n}\n\n\nexport default App","\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}